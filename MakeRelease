echo Making Obfuscated Chrome App release in ./release folder

echo STEP 1 of 3: Clearing ./release folder
echo
# Clear release folder
rm -R release/*

echo STEP 2 of 3: Generating obfuscated source - automatically creating ./release folder if needed
echo
./node_modules/javascript-obfuscator/bin/javascript-obfuscator.js   background.js --output release/background.js   --disableConsoleOutput false --compact true --stringArray true --rotateStringArray true --stringArrayEncoding false --mangle false
./node_modules/javascript-obfuscator/bin/javascript-obfuscator.js   index.js      --output release/index.js        --disableConsoleOutput false --compact true --stringArray true --rotateStringArray true --stringArrayEncoding false --mangle false
./node_modules/javascript-obfuscator/bin/javascript-obfuscator.js   parser.js     --output release/parser.js       --disableConsoleOutput false --compact true --stringArray true --rotateStringArray true --stringArrayEncoding false --mangle false
./node_modules/javascript-obfuscator/bin/javascript-obfuscator.js   serial.js     --output release/serial.js       --disableConsoleOutput false --compact true --stringArray true --rotateStringArray true --stringArrayEncoding false --mangle false

echo STEP 3 of 3: Copying static resources to ./release folder
echo
# Copy static resources
cp -R assets          release/assets
cp    http.js         release/
cp    index.css       release/
cp    index.html      release/
cp    LICENSE         release/
cp    manifest.json   release/
cp    sha1.js         release/

echo Done!

